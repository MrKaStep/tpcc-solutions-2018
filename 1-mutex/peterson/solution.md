```
Lock(t): 
  victim = t
  want[t] = true
  while want[1 - t] and victim == t:
    // wait and retry
```

Данный код не гарантирует взаимное исключение:

1. Поток 0 выставляет `victim = 0`;
1. Поток 1 успешно проходит весь `Lock` и "захватывает" лок; 
После этой операции `victim: 1`, `want: {false, true}`.
1. Поток проходит до конца метода `Lock`, так как `victim: 1` и условие цикла не выполняется.

Таким образом, потоки одновременно захватили лок.